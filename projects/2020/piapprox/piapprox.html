<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Pi Approximator</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="../../../assets/css/proj_piapprox.css" />
		<noscript><link rel="stylesheet" href="../../../assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="../../../index.html">Zgell</a></h1>
						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<div class="inner">
							<h2>Menu</h2>
							<ul class="links">
								<li><a href="../../../index.html">Home</a></li>
								<li><a href="../../../aboutme.html">About Me</a></li>
								<li><a href="../../../gallery.html">Projects</a></li>
								<li><a href="../../../todo.html">To-Do</a></li>
							</ul>
							<a href="#" class="close">Close</a>
						</div>
					</nav>

				<!-- Wrapper -->
					<section id="wrapper">
						<header>
							<div class="inner">
								<h2>Pi Approximator in MATLAB</h2>
								<p>A basic script I wrote to get familiar with the MATLAB language.</p>
								<div class="row">
									<div class="column" style="width:50%">
										<ul>
											<li><b>Started On:</b> January 16th, 2020</li>
											<li><b>Finished On:</b> January 16th, 2020</li>
											<li><b>Documented On:</b> January 16th, 2020</li>
										</ul>
									</div>
									<div class="column" style="width:50%">
										<h4>Table of Contents</h4>
										<ol>
											<li><a href="#approximator">Introduction</a></li>
											<li><a href="#theory">Theory</a></li>
											<li><a href="#code">Code Breakdown</a></li>
											<li><a href="#results">Results</a></li>
											<li><a href="#conclusion">Conclusion</a></li>
										</ol>
									</div>
								</div>
							</div>
						</header>

						<!-- Content -->
							<div class="wrapper">
								<div class="inner">
									<!-- "Pi Approximator in MATLAB" (Introduction) -->
									<h3 class="major" id="approximator">Pi Approximator in MATLAB</h3>
									<div class="row">
										<div class="column" style="width:50%">
											<p style="text-align:center;"><img src="results.png" alt="" style="width:100%"/></p>
											<p style="font-size:15px;text-align:center">A plot produced by the program to indicate the accuracy of the value of pi over the number of iterations.</p>
										</div>
										<div class="column" style="width:50%">
											<p>This project began shortly after I started my ENCMP 100 (or Engineering Computer Programming) course in university. The programming language used in the course is MATLAB, a math-focused language that I unfortunately had no prior experience with. Given this lack of experience, I decided that doing a few extra projects on top of my coding assignments might be a fun idea that would also give me enough experience with MATLAB to enter the faculty's programming competition. This particular script is the very first project I started and finished in MATLAB. It isn't too complex or interesting, but I learned a lot about some of the mathematical theories regarding the approximation of pi while trying to make this.</p>
										</div>
									</div>
									<p>I could have chosen a lot of different projects for my first one, but I chose this one because a friend of mine asked me about the subject of approximating pi. One of her professors mentioned that you could use MATLAB to approximate pi through a variety of methods. I couldn't really explain how to do it right away since I wasn't familiar enough with the math behind pi approximations. The only method I really knew involved taking the formula for a circle, rearranging and integrating it. This was an option in MATLAB, but it wasn't really any fun because it gave the exact value of pi, not an approximation. So I did some searching on the internet for a suitable method for approximating pi, and I found one that I liked enough to try it out. </p>

									<!-- The Theory -->
									<h3 class="major" id="theory">The Theory</h3>
									<div class="row">
										<div class="column" style="width:50%">
											<p>The method I chose is a converging sequence of alternating additions and subtractions of reciprocals of odd positive integers. I discovered this method through <a href="https://www.youtube.com/watch?v=HrRMnzANHHs">a YouTube channel called "standupmaths" in a video where someone calculated the value of pi by hand</a> through this method. The idea is that if you were to add these for forever, the sequence would approach a quarter of pi. </p>
										</div>
										<div class="column" style="width:50%">
											<p style="text-align:center"><img src="convergingsequence.png" alt=""/></p>
											<p style="font-size:15px;text-align:center">The infinite series I used to compute pi in the simulation.</p>
										</div>
									</div>
									<p>This was perfect for finding an approximation of pi since you can't compute this sequence forever, and you will never truly reach the value of a quarter of pi. It might sound strange that I want only an <i>approximation</i> of pi instead of the actual value of pi itself, but this is a consequence of using MATLAB as the language of choice for this little project. MATLAB has the ability to use pi for calculations without any extra modules or libraries, and it has the ability to give a surprisingly accurate approximation of pi to pretty much any amount of digits that you would like. But of course, that would take the fun out of this project. Anyways, all I had to do with this was multiply the sequence by 4 and then I would have my approximation for pi. What was nice about this method is that since I could specify how many fractions to add, you could manually choose the level of accuracy that the pi approximation would reach.</p>

									<!-- Code Breakdown -->
									<h3 class="major" id="code">Code Breakdown</h3>
									<div class="row">
										<div class="column" style="width:50%; font-size:18px">
											<pre><code>
disp("========================")
disp("= Pi Approximator v1.0 =")
disp("========================")

iter = double(1); %Number of iterations
usermax = input('How many iterations do you want to do? ');
userdigits = input('How many digits do you want to display? ');

if userdigits <= 2 %Too low, could cause VPA error, set to 8 by default
userdigits = 8;
end 
digits(userdigits);
											</code></pre>
										</div>
										<div class="column" style="width:50%">
											<p>I started off the program with a few basic inputs. To make this work, I needed the script to take in two values that are important to the later calculations: the number of "iterations" to calculate pi and the number of digits that you would want to display. The latter is only a factor because of the fact that this is being written in MATLAB, as you can specify how many digits to display for a certain variable. This is obviously quite useful when it comes to working with irrational numbers like pi so that you can actually verify the degree to which the approximation is correct. </p>
										</div>
									</div>
									<div class="row">
										<div class="column" style="width:50%">
											<p>There are two functions used in the script that make the whole thing work. The first function is for testing the accuracy of the pi approximation, which I will get into more later. The second function is how I implemented the sequence I mentioned above that approaches a quarter of pi. I basically created an empty variable, and used a loop to recursively add fractions to it.</p>
											<p>I came up with what I believe to be an interesting way to test if a number is even or odd, which is what I used to test if I wanted to figure out whether or not I had to add or subtract the fraction. What I basically did was take the number of the iteration I was on, and began by dividing by two. I knew that if I divided an odd number by two, it would have a decimal place, and if it was even, it would not have a decimal place. If I were to then convert the number to an integer, it would be forced to either drop or round that decimal place, altering the number. If I were to multiply it by two again and the original number was odd, the rounding that occurred when it became an integer would make it so that it is no longer the original value. If the original value was even, nothing should change. I used this property of integers to check if I was on an even or an odd iteration of the looping part of the function. </p>
										</div>
										<div class="column" style="width:50%; font-size:18px"> 
											<pre><code>
function pi_accuracy = accuracy(x)
	pi_accuracy = log(1 / abs(1-(x/pi)));
end 

function pi_approx = approximate(max_iter)
	iterations = 1;
	pi_approx = 0;
	while iterations < max_iter %Add if iter is odd, subtract if iter is even
		if uint32(iterations / 2)*2 == uint32(iterations) %If iter is even
			pi_approx = pi_approx - (1 / ((2 * iterations) - 1));
		end 
		if uint32(iterations / 2)*2 ~= uint32(iterations) %If iter is odd 
			pi_approx = pi_approx + (1 / ((2 * iterations) - 1));
		end
		iterations = iterations + 1;
	end
end 
											</code></pre>
										</div>
									</div>
									<p>I should note that there was an easier way to do this by just using MATLAB's <code>rem</code> function, but I wasn't aware of this function at the time, so this less-than-desirable integer method will have to suffice.</p>
									<div class="row">
										<div class="column" style="width:50%;font-size:18px">
											<pre><code>
pi_estimate = 4 * approximate(usermax)
plotx = linspace(10, usermax, 50);
ploty = arrayfun(@(a) approximate(a), plotx)
ploty = 4 * ploty;
plotz = arrayfun(@(a) accuracy(a), plot(y))

disp("Your approximation is:");
disp(vpa(pi_estimate, userdigits));
disp("Accuracy of Pi:");
disp(vpa(accuracy(pi_estimate), userdigits))

plot(plotx, ploty, '-ok', plotx, plotz, '-or');
title("Number of Algorithm Iterations vs Value of Pi");
xlabel("Number of Iterations");
grid on;
legend('Value of Pi', 'Accuracy of Pi')
											</code></pre>
										</div>
										<div class="column" style="width:50%">
											<p>This is the middle section of the code where some of the important stuff happens. MATLAB is a bit strange in the sense that you actually declare your functions after the main body of code, which is contrary to all of my prior years of experience, and that is why I'm ending this page with the middle of the code. After experimenting with the approximations of pi, I was curious to see if I could find a way to measure the accuracy of the pi approximation by comparing it to the value of pi. The first function in the previous picture is the method that I came up for how I would do that. I wanted to see how the "accuracy value" of the approximation would change as the number of iterations increased. The top set of lines in this image represent the setup for the plot. The middle section returns the results of the approximation, and the bottom set of lines actually initiates the plot. </p>
										</div>
									</div>

									<div class="row">
										<div class="column" style="width:50%">
											<p>I created a mathematical function where I could input the approximate value of pi, and the function would return a number that represented the accuracy of the approximation that I could then later plot. I designed it so that the values would be similar in magnitude to the value of pi so that it wouldn't screw up the scale of the plot in MATLAB. I started with the ratio between the approximation and the actual value of pi. This was a number that was usually really close to 1. So, I took 1 and subtracted this ratio from it, and took the absolute value of it to avoid any negative values. This left me with a number that shrank rapidly as the number of iterations increased into the thousands. I decided to take the reciprocal of this number so that I was dealing with very large numbers instead that had a bit more meaning, and I finally took the logarithm (base 10) of all this so that I could roughly relate the accuracy to the number of digits that are correct in the approximation.</p>
										</div>
										<div class="column" style="width:50%">
											<p style="text-align:center"><img src="piaccuracy.png" alt=""/></p>
										</div>
									</div>
									<p>The goal of this function was to be able to compare the difference between the approximation of pi and the value of pi itself to see how many digits were correct, hence the logarithm. Everything else, from the reciprocation to the absolute values was just a transformation of the ratio to get a quantity that when run through the logarithm function, would reveal how many digits had been accurately determined.</p>

									<!-- Results -->
									<h3 class="major" id="results">Results</h3>
									<div class="row">
										<div class="column" style="width:50%">
											<p style="text-align:center"><img src="graph1.png" alt=""/></p>
										</div>
										<div class="column" style="width:50%">
											<p>The graph on the left here is the result of this project. The black line represents the magnitude of the approximations of pi. It doesn't appear to change much because as soon as it starts iterating a lot, the change in the values diminishes significantly. The red line, which represented the accuracy value I just explained, was a bit more interesting however. It showed that the accuracy value of the pi approximation increased really rapidly in the beginning, and then the slope leveled out as the iterations increased. This isn't anything extraordinary as it behaves exactly like a logarithm function, which is one of the primary pieces in the formula for calculating error. What this did tell me however is that the rate at which the algorithm accurately reports new digits would slow down as you increase the number of iterations.</p>
										</div>
									</div>
									<div class="row">
										<div class="column" style="width:50%">
											<p>Given the observation involving the red line, I adjusted the accuracy formula so that there was no longer a logarithm function to see if the new function would create a straight line. Unsurprisingly, it did create a linear function with a constant slope when I made the adjustments. The interesting part about this is that what it tells me is that as the approximation becomes increasingly refined, the rate of change in the accuracy value stays constant the entire time. I thought that this would be a diminishing return like everything else associated with this method of pi approximation, but this may have just been a product of how I set up the accuracy values. </p>
										</div>
										<div class="column" style="width:50%">
											<p style="text-align:center"><img src="graph2.png" alt=""/></p>
										</div>
									</div>

									<!-- Conclusion -->
									<h3 class="major" id="conclusion">Conclusion</h3>
									<p>Overall, this wasn't some large project that I had been working on for months. I started and finished it within the span of a day. This project simply served as an experiment in two areas I had not explored before: the MATLAB language, and the methods of approximating irrational numbers such as pi. This project, although simple, taught me a lot about MATLAB and how it works. The things that stood out the most were the key differences between MATLAB and other big programming languages, such as the structuring of the code when dealing with functions, and the small differences in the mathematical notation. This also taught me that there are a lot of interesting ways to approximate pi and other various irrational numbers. </p>
									<p style="text-align:center"><a href="pi_approximator.zip" download class="button primary icon solid fa-download">Download the Code</a></p>

									<section class="features">
										<article>
											<a href="#" class="image"><img src="../../../images/pic04.jpg" alt="" /></a>
											<h3 class="major">Sed feugiat lorem</h3>
											<p>Lorem ipsum dolor sit amet, consectetur adipiscing vehicula id nulla dignissim dapibus ultrices.</p>
											<a href="#" class="special">Learn more</a>
										</article>
										<article>
											<a href="#" class="image"><img src="../../../images/pic05.jpg" alt="" /></a>
											<h3 class="major">Nisl placerat</h3>
											<p>Lorem ipsum dolor sit amet, consectetur adipiscing vehicula id nulla dignissim dapibus ultrices.</p>
											<a href="#" class="special">Learn more</a>
										</article>
									</section>

								</div>
							</div>

					</section>

				<!-- Footer -->
				<section id="footer">
					<div class="inner">
						<h2 class="major">Contact Me</h2>
						<p>In the case that you want to contact me, you are welcome to reach out to me through the social media and other mediums I have linked below.</p>
						<div class="row">
							<div class="column" style="width:50%">
								<ul class="contact">
									<li class="icon solid fa-envelope">Business Email: <a href="mailto:zgellner@outlook.com">zgellner@outlook.com</a></li>
									<li class="icon brands fa-discord">Personal Discord: Zgell#0436</li>
								</ul>
							</div>
							<div class="column" style="width:50%">
								<ul class="contact">
									<li class="icon brands fa-instagram">Instagram Account: <a href="https://www.instagram.com/zgell/" target="_blank">@zgell</a></li>
									<li class="icon brands fa-youtube">YouTube Channel: <a href="#">(will be added later)</a></li>
								</ul>
							</div>
						</div>
						<ul class="copyright">
							<li>Zgell</li><li>Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a></li>
						</ul>
					</div>
				</section>

			</div>

		<!-- Scripts -->
			<script src="../../assets/js/jquery.min.js"></script>
			<script src="../../assets/js/jquery.scrollex.min.js"></script>
			<script src="../../assets/js/browser.min.js"></script>
			<script src="../../assets/js/breakpoints.min.js"></script>
			<script src="../../assets/js/util.js"></script>
			<script src="../../assets/js/main.js"></script>

	</body>
</html>
